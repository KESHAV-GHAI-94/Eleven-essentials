<%- include('./partials/loginheader') %>

<% if (error && error.length > 0) { %>
  <div
    id="flash-message"
    class="fixed top-6 left-1/2 -translate-x-1/2 px-6 py-3 rounded-lg bg-red-600 shadow-lg text-white z-50 transition-opacity">
    <%= error[0] %>
  </div>
<% } %>

<% if (success && success.length > 0) { %>
  <div
    id="flash-message"
    class="fixed top-6 left-1/2 -translate-x-1/2 px-6 py-3 rounded-lg bg-indigo-600 shadow-lg text-white z-50 transition-opacity">
    <%= success[0] %>
  </div>
<% } %>

<div class="min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100 flex items-center justify-center px-6">

  <div class="w-full max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-8">

    <!-- REGISTER CARD -->
    <div class="bg-white rounded-2xl shadow-xl p-10">
      <h3 class="text-3xl font-bold text-gray-800 mb-1">
        Welcome to <span class="text-indigo-600">ElevenEssentials</span>
      </h3>
      <p class="text-gray-600 mb-8">
        Create your account
      </p>

      <form autocomplete="off" action="/users/register" method="post" class="space-y-4">
        <input
          class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500"
          type="text"
          placeholder="Full Name"
          name="Full_Name"
          required
        />

        <input
          class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500"
          type="email"
          placeholder="Email"
          name="email"
          required
        />

        <input
          class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500"
          type="password"
          placeholder="Password"
          name="password"
          required
        />

        <button
          type="submit"
          class="w-full py-3 rounded-full bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition"
        >
          Create Account
        </button>

        <div class="text-center pt-2">
          <a
            href="/owners"
            class="inline-block text-sm text-indigo-600 hover:underline"
          >
            Login as Owner â†’
          </a>
        </div>
      </form>
    </div>

    <!-- LOGIN CARD -->
    <div class="bg-white rounded-2xl shadow-xl p-10">
      <h3 class="text-3xl font-bold text-gray-800 mb-1">
        Welcome Back
      </h3>
      <p class="text-gray-600 mb-8">
        Login to your account
      </p>

      <form autocomplete="off" action="/users/login" method="post" class="space-y-4">
        <input
          class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500"
          type="email"
          placeholder="Email"
          name="email"
          required
        />

        <input
          class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500"
          type="password"
          placeholder="Password"
          name="password"
          required
        />

        <button
          type="submit"
          class="w-full py-3 rounded-full bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition"
        >
          Login
        </button>
      </form>
    </div>

  </div>
</div>

<script>
  setTimeout(() => {
    const flash = document.getElementById("flash-message");
    if (flash) {
      flash.classList.add("opacity-0");
      setTimeout(() => flash.remove(), 500);
    }
  }, 2000);
</script>

<%- include('partials/footer') %>
